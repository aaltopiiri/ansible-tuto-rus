Пособие по Vagrant
================

Vagrant позволяет с легкостью создавать виртуальные машины и запускать их на VirtualBox. Vagrantfile идет в комплекте с пособием. 

# Установка Vagrant

Чтобы запустить Vagrant вам нужно установить:

- VirtualBox
- Ruby (скорее всего уже установлено на вашей системе)
- Vagrant 1.1+ (см.
  http://docs.vagrantup.com/v2/installation/index.html).
  
Теперь инициализируйте виртуальную машину с помощью следующей команды. Имейте ввиду, что вам не нужно скачивать какой-либо "box" вручную. Это пособие уже содержит готовый `Vagrantfile`, он содержит все, что нужно для работы.

`vagrant up`

и налейте себе кофе (если вы используете vagrant-hostmaster, то вам нужно будет ввести root-пароль). Если что-то пошло не так, загляните в [туториал по Vagrant'у](http://docs.vagrantup.com/v2/getting-started/index.html).

# Добавление SSH-ключей на виртуальной машине

Чтобы продолжить, вам нужно добавить свои ключи в `authorized_keys` root'а на виртуальной машине. Это не обязательно (Ansible может использовать sudo, авторизацию по паролю и т.д.), но так будет намного проще.

Ansible идеально подходит для этой задачи, поэтому используем его. Однако, я не буду пока ничего объяснять. Просто доверьтесь мне.

    ansible-playbook -c paramiko -i step-00/hosts step-00/setup.yml --ask-pass --sudo

В качестве пароля введите _vagrant_. Если возникнут ошибки "Connections refused", пожалуйста, проверьте настройки файрволла.

Теперь добавьте свои ключи в ssh-agent (`ssh-add`). 

Теперь переходите к первому шагу [step-01](https://github.com/freetonik/ansible-tuto-rus/tree/master/step-01).

